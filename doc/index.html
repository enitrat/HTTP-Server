<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div style="display: flex; justify-content: center; flex-direction: column; margin: auto; width: fit-content;">
    <h1>Hey ! Welcome to our WebServer </h1>

    <h2> CREATE AN USER WITH PUT</h2>
    <div>
        <form method="post" target="_blank" action=".">
            <div>
                <input type="hidden" id="type" value="user" name="type">
            </div>
            <div>
                <span> Name :</span><input type="text" name="name" id="name">
            </div>
            <div>
            <span> Email :</span><input type="text" name="email" id="email">
            </div>
            <div>
            <span> Phone :</span><input type="text" name="phone" id="phone">
            </div>
            <div>
            <span> Password :</span><input type="password" name="password" id="password">
            </div>
            <div>
            <input type="submit" id="submitUSERE" value="CreateUsere" name="submitUSERE">
                <span> you will be able to acces data of the user by GET /doc/users/username.html</span>
            </div>

        </form>
    </div>

    <h2> POST </h2>
    <div>
        <form method="post"> Select a file to POST:
            <input type="file" name="fileToUploadPOST" id="fileToUploadPOST">
            <input type="button" id="submitPOST" value="Upload file" name="submitPOST">
        </form>
    </div>

    <h2> GET </h2>
    <div>
        <form method="get"> Select a file name to GET:
            <input type="text" name="fileToUploadGET" id="fileToUploadGET">
            <input type="button" id="submitGET" value="GO" name="submitGET">
        </form>
    </div>

    <h2> DELETE </h2>
    <div>
        <form method="delete"> Select a file name to DELETE:
            <input type="text" name="fileToUploadDELETE" id="fileToUploadDELETE">
            <input type="button" id="submitDELETE" value="Delete file" name="submitDELETE">
        </form>
    </div>

    <h2> PUT </h2>
    <div>
        <form method="put"> Select a file to PUT:
            <input type="file" name="fileToUploadPUT" id="fileToUploadPUT">
            <input type="button" id="submitPUT" value="Put file" name="submitPUT">
        </form>
    </div>

    <h2> HEAU </h2>
    <div>
        <form method="head"> Select a file to get the HEAD:
            <input type="text" name="fileToUploadHEAD" id="fileToUploadHEAD">
            <input type="button" id="submitHEAD" value="Head of a file" name="submitHEAD">
        </form>
    </div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $("#submitPOST").click(function () {
            var filename = $("#fileToUploadPOST").val();
            if(filename!==""){
                var leafname= filename.split('\\').pop().split('/').pop();
                var form = new FormData();
                form.append(leafname, $("#fileToUploadPOST").prop('files')[0]);
                var settings = {
                    "url": window.location.href+"doc/"+leafname,
                    "method": "POST",
                    "timeout": 0,
                    "processData": false,
                    "mimeType": "multipart/form-data",
                    "contentType": false,
                    "data": form,
                    "success": function(response) {
                        alert("Success!");
                    }
                };



                 $.ajax(settings).done(function (response) {
                    console.log(response);
                }
                );
            }
        });


        $("#submitGET").click(function () {
            var filename = $("#fileToUploadGET").val();
            if(filename!==""){
                window.location.href = window.location.href+"doc/"+filename
            }
        });

        $("#submitPUT").click(function () {
            var filename = $("#fileToUploadPUT").val();
            if(filename!==""){
                var leafname= filename.split('\\').pop().split('/').pop();
                form.append(leafname, $("#fileToUploadPOST").prop('files')[0]);
                var settings = {
                    "url": window.location.href+"doc/"+leafname,
                    "method": "POST",
                    "timeout": 0,
                    "processData": false,
                    "mimeType": "multipart/form-data",
                    "contentType": false,
                    "data": form,
                    "success": function(response) {
                        alert("Success!");
                    }
                };

                $.ajax(settings).done(function (response) {
                        console.log(response);
                    }
                );
            }
        });


        $("#submitDELETE").click(function () {
            var filename = $("#fileToUploadDELETE").val();
            if(filename!==""){
                var settings = {
                    "url": window.location.href+"doc/"+filename,
                    "method": "DELETE",
                };

                $.ajax(settings).done(function (response) {
                        console.log(response);
                    }
                        .success(function (response) {
                            alert("Success!");
                        })
                );
            }
        });

        $("#submitHEAD").click(function () {
            var filename = $("#fileToUploadHEAD").val();
            if(filename!==""){
                var settings = {
                    "url": window.location.href+"doc/"+filename,
                    "method": "HEAD",
                };

                $.ajax(settings).done(function (response) {
                        console.log(response);
                    }
                        .success(function (response) {
                            console.log(response);
                            alert("Success!");
                        })
                );
            }
        });




    });
</script>

</body>

</html>

